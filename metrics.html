<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Puerto Rico ‚Äî Metrics</title>
  <meta name="description" content="Graduate Independent Study ‚Äî Population & Economic Dynamics in Puerto Rico: key metrics and sources." />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Cards + hero */
    .card {
      background:#fff;
      border-radius:1rem;
      box-shadow:0 10px 15px -3px rgba(0,0,0,.1), 0 4px 6px -2px rgba(0,0,0,.05);
      overflow:hidden;
    }
    .stat-card {
      display:flex; gap:.75rem; align-items:flex-start;
      background:#fff; border-radius:.75rem; padding:1rem;
      box-shadow: 0 4px 10px rgba(0,0,0,.06);
    }
    .stat-icon {
      flex:none; display:flex; align-items:center; justify-content:center;
      width:2.5rem; height:2.5rem; border-radius:.75rem; background:#f3f4f6; color:#6b7280;
    }
    .stat-body .label { font-size:.85rem; color:#6b7280; }
    .stat-body .value { font-weight:800; font-size:1.5rem; line-height:1.1; }
    .stat-body a { font-size:.75rem; color:#2563eb; }

    .hero {
      background:
        radial-gradient(1200px 600px at 20% -10%, rgba(239,68,68,.12), transparent 60%),
        radial-gradient(1200px 600px at 80% -10%, rgba(37,99,235,.10), transparent 60%),
        linear-gradient(180deg, #fafafa 0%, #f3f4f6 100%);
    }

    html { scroll-behavior: smooth; }

    /* --- Dropdown base state --- */
    #metrics-menu {
      opacity: 0;
      visibility: hidden;
      transform: translateY(4px);
      pointer-events: none;
      transition: opacity .15s ease, transform .15s ease, visibility .15s ease;
    }

    /* Show on hover OR while JS adds .hovering (grace period) */
    #metrics-dropdown-root:hover #metrics-menu,
    #metrics-dropdown-root.hovering #metrics-menu {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
      pointer-events: auto;
    }

    /* Rotate chevron when open */
    #metrics-dropdown-root:hover #metrics-chevron,
    #metrics-dropdown-root.hovering #metrics-chevron {
      transform: rotate(180deg);
    }
  </style>
</head>
<body class="bg-gray-50 text-gray-900 font-sans">

  <nav class="bg-white shadow sticky top-0 z-50">
    <div class="max-w-7xl mx-auto px-4 py-3 flex items-center justify-center gap-6 text-sm sm:text-base">
      <a href="index.html" class="nav-link border-b-2 border-transparent">Home</a>

      <div class="relative" id="metrics-dropdown-root">
        <div class="nav-link border-b-2 border-blue-600 text-blue-600 font-semibold inline-flex items-center gap-1 cursor-pointer select-none" aria-current="page">
          Metrics
          <svg id="metrics-chevron" xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 transition-transform" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
            <path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 11.17l3.71-3.94a.75.75 0 111.08 1.04l-4.24 4.5a.75.75 0 01-1.08 0l-4.24-4.5a.75.75 0 01.02-1.06z" clip-rule="evenodd"/>
          </svg>
        </div>

        <div id="metrics-menu" class="absolute right-0 mt-2 w-64 rounded-xl border border-gray-200 bg-white shadow-lg ring-1 ring-black/5">
          <div class="py-2">
            <a href="metrics.html"               class="block px-4 py-2 hover:bg-gray-50 font-semibold">All Metrics Overview</a>
            <div class="my-1 border-t border-gray-100"></div>
            <a href="metrics/population.html"     class="block px-4 py-2 hover:bg-gray-50">Population</a>
            <a href="metrics/employment.html"     class="block px-4 py-2 hover:bg-gray-50">Employment Rate</a>
            <a href="metrics/establishments.html" class="block px-4 py-2 hover:bg-gray-50">Employer Establishments</a>
            <a href="metrics/income.html"         class="block px-4 py-2 hover:bg-gray-50">Household Income</a>
            <a href="metrics/housing.html"        class="block px-4 py-2 hover:bg-gray-50">Housing Units</a>
            <a href="metrics/education.html"      class="block px-4 py-2 hover:bg-gray-50">Education</a>
            <a href="metrics/health.html"         class="block px-4 py-2 hover:bg-gray-50">Health</a>
          </div>
        </div>
      </div>

      <a href="maps.html"     class="nav-link border-b-2 border-transparent">Maps</a>
      <a href="charts.html"   class="nav-link border-b-2 border-transparent">Charts</a>
      <a href="strategy.html" class="nav-link border-b-2 border-transparent">Strategy</a>
      <a href="about.html"    class="nav-link border-b-2 border-transparent">About</a>
    </div>
  </nav>

  <main class="max-w-7xl mx-auto px-4 py-6 space-y-6">
    <header class="card hero p-6 sm:p-8 lg:p-10">
      <p class="text-sm font-semibold text-gray-500 uppercase">Graduate Independent Study</p>
      <h1 class="mt-2 text-4xl sm:text-5xl font-extrabold leading-tight">Population & Economic Dynamics in Puerto Rico</h1>
      <p class="mt-3 text-lg text-gray-700">Key Puerto Rico indicators and sources.</p>
      <div class="mt-3">&nbsp;</div>
    </header>

    <section class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
      <div class="space-y-6">
        <h2 class="font-semibold text-lg">Populations and People</h2>
        <div class="stat-card">
          <div class="stat-icon">üë•</div>
          <div class="stat-body min-w-0">
            <div class="label">Total Population</div>
            <div class="value">3,285,874</div>
            <a target="_blank" rel="noopener" href="https://data.census.gov/table?q=P1&g=040XX00US72">P1 ‚Ä¢ 2020 Decennial Census (Puerto Rico)</a>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">üìà</div>
          <div class="stat-body min-w-0">
            <div class="label">Employment Rate</div>
            <div class="value">43.4%</div>
            <a target="_blank" rel="noopener" href="https://data.census.gov/table?q=DP03&g=040XX00US72">DP03 ‚Ä¢ 2024 ACS 1-Year (Puerto Rico)</a>
          </div>
        </div>
      </div>

      <div class="space-y-6">
        <h2 class="font-semibold text-lg">Business and Economy</h2>
        <div class="stat-card">
          <div class="stat-icon">üè¢</div>
          <div class="stat-body min-w-0">
            <div class="label">Employer Establishments</div>
            <div class="value">50,332</div>
            <a target="_blank" rel="noopener" href="https://www.census.gov/programs-surveys/cbp.html">CBP ‚Ä¢ County Business Patterns (Program Page)</a>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">üíµ</div>
          <div class="stat-body min-w-0">
            <div class="label">Median Household Income</div>
            <div class="value">$27,213</div>
            <a target="_blank" rel="noopener" href="https://data.census.gov/table?q=S1901&g=040XX00US72">S1901 ‚Ä¢ 2024 ACS 1-Year (Puerto Rico)</a>
          </div>
        </div>
      </div>

      <div class="space-y-6">
        <h2 class="font-semibold text-lg">Education & Health</h2>
        <div class="stat-card">
          <div class="stat-icon">üéì</div>
          <div class="stat-body min-w-0">
            <div class="label">Bachelor‚Äôs Degree or Higher</div>
            <div class="value">29.7%</div>
            <a target="_blank" rel="noopener" href="https://data.census.gov/table?q=S1501&g=040XX00US72">S1501 ‚Ä¢ 2024 ACS 1-Year (Puerto Rico)</a>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">üè•</div>
          <div class="stat-body min-w-0">
            <div class="label">Without Health Coverage</div>
            <div class="value">5.6%</div>
            <a target="_blank" rel="noopener" href="https://data.census.gov/table?q=S2701&g=040XX00US72">S2701 ‚Ä¢ 2024 ACS 1-Year (Puerto Rico)</a>
          </div>
        </div>
      </div>
    </section>
  </main>

  <script>
    // Highlights current nav link
    document.querySelectorAll('.nav-link[href]').forEach(a => {
      const href = a.getAttribute('href');
      if (!href) return;
      if (location.pathname.endsWith(href)) {
        a.classList.add('text-blue-600','font-semibold','border-blue-600');
        a.setAttribute('aria-current','page');
      }
    });

    // Safer hover persistence for Metrics dropdown
    (function() {
      const root = document.getElementById('metrics-dropdown-root');
      let hoverTimeout;

      function addHovering() {
        clearTimeout(hoverTimeout);
        root.classList.add('hovering');
      }
      function removeHovering() {
        hoverTimeout = setTimeout(() => {
          root.classList.remove('hovering');
        }, 300); // grace period (ms)
      }

      root.addEventListener('mouseenter', addHovering);
      root.addEventListener('mouseleave', removeHovering);

      // Also keep menu "alive" when moving inside the menu box
      const menu = document.getElementById('metrics-menu');
      menu.addEventListener('mouseenter', addHovering);
      menu.addEventListener('mouseleave', removeHovering);
    })();
  </script>
</body>
</html>